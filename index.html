<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
      <link rel="stylesheet" href="./css/style.css">
      <script src="https://cdn.jsdelivr.net/npm/vue"></script>
      <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
      <title>Boolzapp</title>
</head>
<body>

      <div id="app">
            <!-- non carica bootstrap????? -->
            
                  <div class="container boolz">
                        <div class="row">
                              <!-- Left side 4 col  -->
                              <div class="col-4 userList">
                                    <div class="top">
                                          <div class="user-header">
                                                <div class="d-flex justify-content-between align-item-center">
                                                      <div class="top-left-avatar">
                                                            <img class="avatar" src="./img/avatar_io.jpg" alt="my avatar">
                                                            <span> Nome Utente</span>
                                                      </div>
                                                      <div class="top-right-avatar icon-gray">
                                                            <i class="fas fa-circle-notch"></i>
                                                            <i class="fas fa-comment-alt"></i>
                                                            <i class="fas fa-ellipsis-v"></i>
                                                      </div>
                                                </div>
                                          </div>
                                          
                                    </div>
                                          <!-- Notifiche -->

                                    <div class="alert-msg d-flex align-item-center">
                                          <div>
                                                <i class="fas fa-bell-slash"></i>
                                          </div>
                                          <div>
                                                <span>Ricevi notifiche di nuovi messaggi</span><br>
                                                <a href="#">Attiva notifiche desktop</a>
                                          </div>
                                          
                                    </div>

                                          <!--Ricerca -->

                                    <div class="search-bar d-flex ">
                                          <div class="icon-gray">
                                                <i class="fas fa-search"></i>
                                          </div>
                                          <!-- verifica grow -->
                                          <div class="flex-grow-1">
                                                <input placeholder="Cerca o inizia nuova chat">
                                          </div>
                                         
                                    </div>
                                    <!-- Contacts - verifica altezze -classi flex - iassegnare classe ul - dinamicizzare url in-->

                                    <div class="contacts">
                                          <ul>
                                                <li v-for="(contact, index) in contacts"
                                                      @click="userActive(index)">
                                                      <div class="img-avatar d-inline">
                                                            <img class="avatar" :src="pathAvatar(index)" alt="avatar">
                                                      </div>
                                                      <span class="contact-name">
                                                            {{contact.name}}
                                                      </span>
                                                </li>
                                          </ul>
                                    </div>

                                    
                              </div>
                              <!-- Right side 8 col  -->
                              <div class="col-8 msgList">
                                    <div class="top">
                                          <div class="user-header">
                                                <div class="d-flex justify-content-between align-item-center ">
                                                      <div class="top-right-avatar">
                                                            <img class="avatar" :src="pathAvatar(userActive)" alt="my avatar">
                                                            <span> {{contacts[userActive].name}}</span>
                                                      </div>
                                                      <div class="top-right-avatar icon-gray">
                                                            <i class="fas fa-paperclip"></i>
                                                            <i class="fas fa-comment-alt"></i>
                                                            <i class="fas fa-ellipsis-v"></i>
                                                      </div>
                                                </div>
                                          </div>

                                    </div>
                                    <!-- Area messaggi -->
                                    <div class="message-area d-flex flex-column">
                                          <!-- check continuo altezze -->
                                          <!-- riassegnare classi sent received -->
                                          
                                                <div v-for= "message in contacts[contactsIndex].messages" :class="message.status">
                                                      <div class="message">
                                                      {{message.text}}
                                                      </div>
                                                      <div class="date">
                                                       {{message.date}}
                                                            
                                                      </div>
                                                </div>
                                          </div>

                                          <!--assegnando la classe con message.status riduco in un unico div
                                                <div class="sent">
                                                      <div class="message">
                                                            <span>Messaggio inviato</span>
                                                      </div>
                                                      <div class="date">
                                                            06/30/2021 15:00:59
                                                      </div>
                                                </div>
                                          </div>

                                          <div class="align-self-start">
                                                <div class="received">
                                                      <div class="message">
                                                            <span>Messaggio ricevuto</span>
                                                      </div>
                                                      <div class="date">
                                                            06/30/2021 15:31:00
                                                      </div>
                                                </div>
                                          </div>
                                          -->





                                    </div>
                                    <!-- Input text -->
                                    <div class="input-text d-flex align-item-center justify-content-between">
                                          <div class="emoticons">
                                                <i class="far fa-smile"></i>
                                          </div>
                                          <div class="flex-grow-1">
                                                <input @keyup.enter="addMessage(contactsIndex); replyMessage(contactsIndex)" v-model="newMessage" placeholder="Scrivi messaggio">

                                          </div>
                                          <div>
                                                <i class="fas fa-microphone"></i>
                                          </div>
                                    </div>

                              </div>
                        </div>
                  </div>

            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            












      </div>
      





      <script type="text/javascript" src="js/script.js"></script>
</body>
</html>